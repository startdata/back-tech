# transaction

## 트랜잭션이란

트랜잭션이란 한 번에 처리 되어야 할 작은단위의 논리적 작업단위를 말한다.

---

## 트랜잭션 특징(ACID)

### 1)원자성(Atomicty)

- 트랜잭션의 연산 처리가 전체가 처리 되거나 되지 않거나 되야함 (일부 처리는 안된다.)
- 처리 중 일부만 처리되는 경우에는 rollback되어 전체 처리가 되지 않음

### 2)일관성(Consistency)

- 트랜잭션 실행 완료후 언제나 일관성 있는 DB상태를 보존

### 3)고립성(Isolation)

- 트랜잭션 실행 시 다른 트랜잭션의 연산이 끼어들지 못하도록 함(동시에 트랜잭션이 실행되었을때 순서를 정하거나 다른 트랜잭션이 동일한 부분에 실행이 되지 않게 함)

### 4)영속성(Durability)

- 완료된 트랜잭션의 결과는 영구적으로 DB에 저장되어야 함

---

## 트랜잭션 격리 수준

### 1) Read Uncommitted

- 트랜잭션 처리가 완료가 되지않은(commit 되기 전)데이터를 다른 트랜잭션이 읽도록 허용하는 레벨

### 2) Read Committed

- 트랜잭션 처리가 완료(commit 된)데이터만 다른 트랜잭션이 읽도록 허용하는 레벨

### 3) Repeatable Read

- 트랜잭션 중 동일한 쿼리가 여러번 실행 되었을때 첫 번째 쿼리의 레코드가 영향을 받지 않도록 하는 레벨

### 4) Serializable Read

- 트랜잭션 중 동일한 쿼리가 여러번 실행 되었을때 첫 번째 쿼리의 레코드가 영향을 받지 않도록 하고, 새로운 레코드가 나타나지 않도록 하는 레벨

---

## 트랜잭션의 직렬성

동시에 많은 요청을 받는 경우 DBMS에서 트랜잭션이 영향없이 순서대로 실행되도록 보장해야함

### 직렬성을 보장할 수 없을때 문제

### 1)Dirty Read

commit되지 않은 데이터(불확실한 데이터)를 읽게 되면서 일관성을 유지하지 못함

### 2)Non-Repeatable REad

한 트랜잭션에서 동일한 쿼리를 수행했을 때 결과가 다르게 나오는 문제

### 3)Phantom Read

한 트랜잭션에서 동일한 쿼리를 수행했을 때 첫 번째 쿼리에서 없던 결과가 나타나는 문제

---
